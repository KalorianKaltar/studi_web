{% extends 'base.html.twig' %}


{% block header %}
    <h1>Bienvenue à l'Hôpital SoigneMoi</h1> {{ parent() }}
{% endblock %}

{% block content %}
    <main id="container-historique">
        <section id="historique">
            <h2>Historique des visites</h2>
            <table id="historique-sejours">
                <thead>
                    <tr>
                        <th>Date Début</th>
                        <th>Date Fin</th>
                        <th>Motif</th>
                        <th>Spécialité</th>
                        <th>Médecin</th>
                    </tr>
                </thead>
                <tbody>
                    {%  for histo in historique %}
                    <tr>
                        <td>{{ histo.datedebut|date("d/m/Y") }}</td>
                        <td>{{ histo.datefin|date("d/m/Y") }}</td>
                        <td>{{ histo.motif }}</td>
                        <td>{{ histo.idspecialite.label }}</td>
                        <td>Dr. {{ histo.idmedecin.prenom }} {{ histo.idmedecin.nom }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>
{% endblock %}
{#<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Hôpital SoigneMoi!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
            <style>
                body {
                    font-family: Arial, sans-serif;
                    margin: 0;
                    padding: 0;
                }

                header {
                    background-color: #007bff;
                    color: white;
                    padding: 20px;
                    text-align: center;
                }

                main {
                    padding: 20px;
                }

                section {
                    margin-bottom: 30px;
                }

                h1, h2 {
                    margin-top: 0;
                }

                ul {
                    
                    padding: 0;
                }

                footer {
                    background-color: #f8f9fa;
                    padding: 10px;
                    text-align: center;
                }
            </style>
        {% endblock %}

        {% block javascripts %}
        {% endblock %}
    </head>
    <body>
        {% block body %}
            <header>
                    <h1>Hôpital SoigneMoi</h1>
                    <nav>
                        <ul>
                            <li><a href="{{ path('home') }}">Accueil</a></li>
                            <li><a href="{{ path('patientProfile') }}">Mon Profil</a></li>
                            <li><a href="{{ path('patientProfile') }}">Mon Historique</a></li>
                            <li><a href="{{ path('patientSejour') }}">Séjour</a></li>
                            <li><a href="{{ path('app_logout') }}">Déconnexion</a></li>
                        </ul>
                    </nav>
                </header>
                <main>
                    <section id="carte">
                        
                    </section>
                    <section id="historique">
                        <h2>Historique des visites</h2>
                        <table border="1">
                            <thead>
                                <tr>
                                    <th>Date Début</th>
                                    <th>Date Fin</th>
                                    <th>Motif</th>
                                    <th>Spécialité</th>
                                    <th>Médecin</th>
                                </tr>
                            </thead>
                            <tbody>
                                {%  for histo in historique %}
                                <tr>
                                    <td>{{ histo.datedebut|date("d/m/Y") }}</td>
                                    <td>{{ histo.datefin|date("d/m/Y") }}</td>
                                    <td>{{ histo.motif }}</td>
                                    <td>{{ histo.idspecialite.label }}</td>
                                    <td>Dr. {{ histo.idmedecin.prenom }} {{ histo.idmedecin.nom }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </section>
                </main>
                <footer>
                    <p>&copy; 2024 Hôpital SoigneMoi. Tous droits réservés.</p>
                </footer>
        {% endblock %}
    </body>
</html>
#}